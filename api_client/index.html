
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="LumApps sdk documentation" name="description"/>
<link href="https://lumapps.github.io/lumapps-sdk/api_client/" rel="canonical"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.2.3" name="generator"/>
<title>Api Client - LumApps SDK</title>
<link href="../assets/stylesheets/main.6e35a1a6.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#lumapps.api.client.ApiClient">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="LumApps SDK" class="md-header-nav__button md-logo" href="https://lumapps.github.io/lumapps-sdk" title="LumApps SDK">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            LumApps SDK
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Api Client
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/lumapps/lumapps-sdk/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    lumapps/lumapps-sdk
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="LumApps SDK" class="md-nav__button md-logo" href="https://lumapps.github.io/lumapps-sdk" title="LumApps SDK">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    LumApps SDK
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/lumapps/lumapps-sdk/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    lumapps/lumapps-sdk
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../authentication/" title="Authentication">
      Authentication
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../environment/" title="Environment">
      Environment
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Guides
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Guides" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/api_client_guide/" title="Api Client">
      Api Client
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
      Content
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Content" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Content
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/content/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/content_template/" title="Template">
      Template
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" id="nav-4-3" type="checkbox"/>
<label class="md-nav__link" for="nav-4-3">
      Community
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Community" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Community
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/community/" title="Community">
      Community
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/community_posts/" title="Posts">
      Posts
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/comments/" title="Comments">
      Comments
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/groups/" title="Groups">
      Groups
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/media/" title="Media">
      Media
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/metadata/" title="Metadata">
      Metadata
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/notifications/" title="Notifications">
      Notifications
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9" id="nav-4-9" type="checkbox"/>
<label class="md-nav__link" for="nav-4-9">
      Users
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Users" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-9">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Users
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/user_base/" title="Basics">
      Basics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/user_profile/" title="User Profile">
      User Profile
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/roles/" title="Roles">
      Roles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../guides/widgets/" title="Widgets">
      Widgets
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Reference
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-5">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Api Client
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Api Client">
      Api Client
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient">
    ApiClient
  </a>
<nav aria-label="ApiClient" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_call">
    get_call()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_new_client_as">
    get_new_client_as()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_new_client_as_using_dwd">
    get_new_client_as_using_dwd()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.iter_call">
    iter_call()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../widgets/" title="Widgets">
      Widgets
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../medias/" title="Medias">
      Medias
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CONTRIBUTING/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../LICENSE/" title="Copyright and license">
      Copyright and license
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient">
    ApiClient
  </a>
<nav aria-label="ApiClient" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_call">
    get_call()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_new_client_as">
    get_new_client_as()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.get_new_client_as_using_dwd">
    get_new_client_as_using_dwd()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lumapps.api.client.ApiClient.iter_call">
    iter_call()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/lumapps/lumapps-sdk/edit/master/docs/api_client.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1>Api Client</h1>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="lumapps.api.client.ApiClient">
<code>lumapps.api.client.ApiClient</code>
<a class="headerlink" href="#lumapps.api.client.ApiClient" title="Permanent link">¤</a></h2>
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lumapps.api.client.ApiClient.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">api_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token_getter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prune</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">proxy_info</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#lumapps.api.client.ApiClient.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>auth_info</code></td>
<td><code>Optional[Dict[str, Any]]</code></td>
<td>
<p>When specified, a service account or a web auth JSON dict.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>api_info</code></td>
<td><code>Optional[Dict[str, Any]]</code></td>
<td>
<p>When specified, a JSON dict containing the description of your
api. Defaults to LumApps API.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>user</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Email of user on behalf of whom to authenticate using domain-wide
delegation.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>token</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>A bearer access token.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>token_getter</code></td>
<td><code>Optional[Callable[[], Tuple[str, int]]]</code></td>
<td>
<p>A bearer access token getter function.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>prune</code></td>
<td><code>bool</code></td>
<td>
<p>Whether or not to use FILTERS to prune LumApps API responses.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>no_verify</code></td>
<td><code>bool</code></td>
<td>
<p>Disables SSL verification.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>proxy_info</code></td>
<td><code>Optional[Dict[str, Any]]</code></td>
<td>
<p>When specified, a JSON dict with proxy parameters.</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lumapps/api/client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">auth_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">api_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">token_getter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">proxy_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">        Args:</span>
<span class="sd">            auth_info: When specified, a service account or a web auth JSON dict.</span>
<span class="sd">            api_info: When specified, a JSON dict containing the description of your</span>
<span class="sd">                api. Defaults to LumApps API.</span>
<span class="sd">            user: Email of user on behalf of whom to authenticate using domain-wide</span>
<span class="sd">                delegation.</span>
<span class="sd">            token: A bearer access token.</span>
<span class="sd">            token_getter: A bearer access token getter function.</span>
<span class="sd">            prune: Whether or not to use FILTERS to prune LumApps API responses.</span>
<span class="sd">            no_verify: Disables SSL verification.</span>
<span class="sd">            proxy_info: When specified, a JSON dict with proxy parameters.</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_token_expiry</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_verify</span> <span class="o">=</span> <span class="n">no_verify</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">proxy_info</span> <span class="o">=</span> <span class="n">proxy_info</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prune</span> <span class="o">=</span> <span class="n">prune</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_auth_info</span> <span class="o">=</span> <span class="n">auth_info</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_endpoints</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_headers</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">api_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">api_info</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">api_info</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span> <span class="n">LUMAPPS_NAME</span><span class="p">)</span>
    <span class="n">api_info</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">"version"</span><span class="p">,</span> <span class="n">LUMAPPS_VERSION</span><span class="p">)</span>
    <span class="n">api_info</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">"base_url"</span><span class="p">,</span> <span class="n">LUMAPPS_BASE_URL</span><span class="p">)</span>
    <span class="n">api_info</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">"scopes"</span><span class="p">,</span> <span class="n">LUMAPPS_SCOPE</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">api_info</span> <span class="o">=</span> <span class="n">api_info</span>
    <span class="n">api_name</span> <span class="o">=</span> <span class="n">api_info</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span> <span class="o">=</span> <span class="s2">" "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">api_info</span><span class="p">[</span><span class="s2">"scopes"</span><span class="p">])</span>
    <span class="n">api_ver</span> <span class="o">=</span> <span class="n">api_info</span><span class="p">[</span><span class="s2">"version"</span><span class="p">]</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">""</span> <span class="k">if</span> <span class="n">api_name</span> <span class="ow">in</span> <span class="n">GOOGLE_APIS</span> <span class="k">else</span> <span class="s2">"/_ah/api"</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">api_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">api_ver</span><span class="si">}</span><span class="s2">"</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="si">}{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">/discovery/v1/apis/</span><span class="si">{</span><span class="n">api_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">api_ver</span><span class="si">}</span><span class="s2">/rest"</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token_getter</span> <span class="o">=</span> <span class="n">token_getter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lumapps.api.client.ApiClient.get_call">
<code class="highlight language-python">
get_call<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">name_parts</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span> </code>
<a class="headerlink" href="#lumapps.api.client.ApiClient.get_call" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Generic function to call a lumapps endpoint</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*name_parts</code></td>
<td><code></code></td>
<td>
<p>Endpoint, eg user/get or "user", "get"</p>
</td>
<td><code>()</code></td>
</tr>
<tr>
<td><code>**params</code></td>
<td><code></code></td>
<td>
<p>Parameters of the call</p>
</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Optional[Union[Dict[str, Any], List[Dict[str, Any]]]]</code></td>
<td>
<p>Object or objects returned by the endpoint call.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lumapps/api/client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_call</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">name_parts</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">"""Generic function to call a lumapps endpoint</span>

<span class="sd">        Args:</span>
<span class="sd">            *name_parts: Endpoint, eg user/get or "user", "get"</span>
<span class="sd">            **params: Parameters of the call</span>

<span class="sd">        Returns:</span>
<span class="sd">            Object or objects returned by the endpoint call.</span>

<span class="sd">        Example:</span>
<span class="sd">            List feedtypes in LumApps:</span>
<span class="sd">            -&gt; GET https://.../_ah/api/lumsites/v1/feedtype/list</span>

<span class="sd">            With this endpoint:</span>

<span class="sd">                &gt;&gt;&gt; feedtypes = get_call("feedtype/list")</span>
<span class="sd">                &gt;&gt;&gt; print(feedtypes)</span>
<span class="sd">    """</span>
    <span class="n">name_parts</span> <span class="o">=</span> <span class="n">_parse_endpoint_parts</span><span class="p">(</span><span class="n">name_parts</span><span class="p">)</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">"cursor"</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pop_body</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">body</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">cursor</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">cursor</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">more</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"more"</span><span class="p">)</span>
        <span class="n">response_items</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"items"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">more</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response_items</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span>
                <span class="n">items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">response_items</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># No results but a more field set to true ...</span>
                <span class="c1"># ie, the api return something wrong</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prune</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># No more result to get</span>
            <span class="k">if</span> <span class="n">response_items</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">response_items</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prune</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># No results, return</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="c1"># special case of</span>
                <span class="k">return</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">more</span> <span class="ow">is</span> <span class="kc">False</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prune</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lumapps.api.client.ApiClient.get_new_client_as">
<code class="highlight language-python">
get_new_client_as<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_email</span><span class="p">,</span> <span class="n">customer_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#lumapps.api.client.ApiClient.get_new_client_as" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Get a new ApiClient using an authorized client account by obtaining a
token using the user/getToken endpoint.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>user_email</code></td>
<td><code>str</code></td>
<td>
<p>User you want to authenticate on behalf of</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>customer_id</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Id of the LumApps customer the user belong to</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ApiClient</code></td>
<td>
<p>ApiClient: A new instance of the ApiClient correctly authenticated.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lumapps/api/client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_new_client_as</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_email</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"ApiClient"</span><span class="p">:</span>
    <span class="sd">""" Get a new ApiClient using an authorized client account by obtaining a</span>
<span class="sd">        token using the user/getToken endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_email (str): User you want to authenticate on behalf of</span>
<span class="sd">            customer_id (str): Id of the LumApps customer the user belong to</span>

<span class="sd">        Returns:</span>
<span class="sd">            ApiClient: A new instance of the ApiClient correctly authenticated.</span>
<span class="sd">    """</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
        <span class="n">auth_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth_info</span><span class="p">,</span>
        <span class="n">api_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">api_info</span><span class="p">,</span>
        <span class="n">no_verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">no_verify</span><span class="p">,</span>
        <span class="n">proxy_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">proxy_info</span><span class="p">,</span>
        <span class="n">prune</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prune</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">token_infos</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_call</span><span class="p">(</span>
        <span class="s2">"user/getToken"</span><span class="p">,</span> <span class="n">customerId</span><span class="o">=</span><span class="n">customer_id</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="n">user_email</span>
    <span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">token_infos</span><span class="p">[</span><span class="s2">"accessToken"</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
        <span class="n">api_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">api_info</span><span class="p">,</span>
        <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user_email</span><span class="p">,</span>
        <span class="n">no_verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">no_verify</span><span class="p">,</span>
        <span class="n">proxy_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">proxy_info</span><span class="p">,</span>
        <span class="n">prune</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prune</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lumapps.api.client.ApiClient.get_new_client_as_using_dwd">
<code class="highlight language-python">
get_new_client_as_using_dwd<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_email</span><span class="p">)</span> </code>
<a class="headerlink" href="#lumapps.api.client.ApiClient.get_new_client_as_using_dwd" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Get a new ApiClient using domain-wide delegation </p>
<details class="quote">
<summary>Source code in <code>lumapps/api/client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>229
230
231
232
233
234
235
236
237
238</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_new_client_as_using_dwd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"ApiClient"</span><span class="p">:</span>
    <span class="sd">""" Get a new ApiClient using domain-wide delegation """</span>
    <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
        <span class="n">auth_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth_info</span><span class="p">,</span>
        <span class="n">api_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">api_info</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user_email</span><span class="p">,</span>
        <span class="n">no_verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">no_verify</span><span class="p">,</span>
        <span class="n">proxy_info</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">proxy_info</span><span class="p">,</span>
        <span class="n">prune</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prune</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lumapps.api.client.ApiClient.iter_call">
<code class="highlight language-python">
iter_call<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">name_parts</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span> </code>
<a class="headerlink" href="#lumapps.api.client.ApiClient.iter_call" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*name_parts</code></td>
<td><code></code></td>
<td>
<p>Endpoint, eg user/get or "user", "get"</p>
</td>
<td><code>()</code></td>
</tr>
<tr>
<td><code>**params</code></td>
<td><code></code></td>
<td>
<p>Parameters of the call</p>
</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<div class="admonition yields">
<p class="admonition-title">Yields</p>
<p>Objects returned by the endpoint call</p>
</div>
<details class="quote">
<summary>Source code in <code>lumapps/api/client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">iter_call</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">name_parts</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]],</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]],</span>
    <span class="kc">None</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">        Args:</span>
<span class="sd">            *name_parts: Endpoint, eg user/get or "user", "get"</span>
<span class="sd">            **params: Parameters of the call</span>

<span class="sd">        Yields:</span>
<span class="sd">            Objects returned by the endpoint call</span>


<span class="sd">        Example:</span>
<span class="sd">            List feedtypes in LumApps:</span>
<span class="sd">            -&gt; GET https://.../_ah/api/lumsites/v1/feedtype/list</span>

<span class="sd">            With this endpoint:</span>

<span class="sd">                &gt;&gt;&gt; feedtypes = iter_call("feedtype/list")</span>
<span class="sd">                &gt;&gt;&gt; for feedtype in feedtypes: print(feedtype)</span>
<span class="sd">    """</span>
    <span class="n">name_parts</span> <span class="o">=</span> <span class="n">_parse_endpoint_parts</span><span class="p">(</span><span class="n">name_parts</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">"cursor"</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pop_body</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">body</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">cursor</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">cursor</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
        <span class="n">more</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"more"</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"items"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">more</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">items</span><span class="p">:</span>
                <span class="c1"># Yield the results and continue the loop</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"cursor"</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prune</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># No results but a more field set to true ...</span>
                <span class="c1"># ie, the api return something wrong</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># No more result to get</span>
            <span class="k">if</span> <span class="n">items</span><span class="p">:</span>
                <span class="c1"># Yield the last results and then return</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prune</span><span class="p">(</span><span class="n">name_parts</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># No results, return</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">return</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../guides/widgets/" rel="prev" title="Widgets">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Widgets
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../widgets/" rel="next" title="Widgets">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Widgets
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/vendor.d710d30a.min.js"></script>
<script src="../assets/javascripts/bundle.a45f732b.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>