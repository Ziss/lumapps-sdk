
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="LumApps sdk documentation" name="description"/>
<link href="https://lumapps.github.io/lumapps-sdk/guides/media/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.0" name="generator"/>
<title>Media - LumApps SDK</title>
<link href="../../assets/stylesheets/main.b5d04df8.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#media">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="LumApps SDK" class="md-header-nav__button md-logo" href="https://lumapps.github.io/lumapps-sdk" title="LumApps SDK">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            LumApps SDK
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Media
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/lumapps/lumapps-sdk/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    lumapps/lumapps-sdk
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="LumApps SDK" class="md-nav__button md-logo" href="https://lumapps.github.io/lumapps-sdk" title="LumApps SDK">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    LumApps SDK
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/lumapps/lumapps-sdk/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    lumapps/lumapps-sdk
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../authentication/" title="Authentication">
      Authentication
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../environment/" title="Environment">
      Environment
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Guides
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Guides" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api_client_guide/" title="Api Client">
      Api Client
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
      Content
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Content" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Content
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../content/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../content_template/" title="Template">
      Template
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" id="nav-4-3" type="checkbox"/>
<label class="md-nav__link" for="nav-4-3">
      Community
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Community" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Community
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../community/" title="Community">
      Community
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../community_posts/" title="Posts">
      Posts
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../comments/" title="Comments">
      Comments
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../groups/" title="Groups">
      Groups
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Media
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Media">
      Media
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#uploading-a-media">
    Uploading a media
  </a>
<nav aria-label="Uploading a media" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#with-the-lumapps-sdk">
    With the LumApps SDK
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manualy">
    Manualy
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#media-path">
    Media path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#blob-key">
    Blob key
  </a>
<nav aria-label="Blob key" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#upload-an-image-and-obtain-the-blob-key">
    Upload an image and obtain the blob key
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#obtain-the-blob-key-of-an-existing-media">
    Obtain the blob key of an existing media
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../metadata/" title="Metadata">
      Metadata
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../notifications/" title="Notifications">
      Notifications
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9" id="nav-4-9" type="checkbox"/>
<label class="md-nav__link" for="nav-4-9">
      Users
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Users" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-9">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Users
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../user_base/" title="Basics">
      Basics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_profile/" title="User Profile">
      User Profile
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../roles/" title="Roles">
      Roles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../widgets/" title="Widgets">
      Widgets
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Reference
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-5">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api_client/" title="Api Client">
      Api Client
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../widgets/" title="Widgets">
      Widgets
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../medias/" title="Medias">
      Medias
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CONTRIBUTING/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../LICENSE/" title="Copyright and license">
      Copyright and license
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#uploading-a-media">
    Uploading a media
  </a>
<nav aria-label="Uploading a media" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#with-the-lumapps-sdk">
    With the LumApps SDK
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manualy">
    Manualy
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#media-path">
    Media path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#blob-key">
    Blob key
  </a>
<nav aria-label="Blob key" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#upload-an-image-and-obtain-the-blob-key">
    Upload an image and obtain the blob key
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#obtain-the-blob-key-of-an-existing-media">
    Obtain the blob key of an existing media
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/lumapps/lumapps-sdk/edit/master/docs/guides/media.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="media">Media<a class="headerlink" href="#media" title="Permanent link">¤</a></h1>
<h2 id="uploading-a-media">Uploading a media<a class="headerlink" href="#uploading-a-media" title="Permanent link">¤</a></h2>
<h3 id="with-the-lumapps-sdk">With the LumApps SDK<a class="headerlink" href="#with-the-lumapps-sdk" title="Permanent link">¤</a></h3>
<p>We provide a helper method to ease the process of uploading a media</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">lumapps.api.client</span> <span class="kn">import</span> <span class="n">ApiClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="n">token</span><span class="o">=&lt;</span><span class="n">you_token</span><span class="o">&gt;</span><span class="p">)</span>

<span class="n">uploaded_media</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">upload_call</span><span class="p">(</span><span class="s2">"path_to_my_file"</span><span class="p">)</span>
</code></pre></div>
<h3 id="manualy">Manualy<a class="headerlink" href="#manualy" title="Permanent link">¤</a></h3>
<p>To upload a media you will need to get an upload and then upload the media itself.</p>
<ol>
<li>
<p><strong>Obtaining an upload url</strong></p>
<p>To do that you'll need to call the <code>document/uploadUrl/get</code> endpoint (Make sure that you include you bearer token in the Authorization headers)</p>
<p>Here is an example of the payload to send</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"fileName"</span><span class="p">:</span> <span class="s2">"Screenshot_2020-04-16 Design System.png"</span><span class="p">,</span>
    <span class="nt">"shared"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"success"</span><span class="p">:</span> <span class="s2">"/upload"</span><span class="p">,</span>
    <span class="nt">"parentPath"</span><span class="p">:</span> <span class="s2">"provider=local/site=5414442267049984"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
The attributes are:</p>
<ul>
<li><em>FileName</em> : The name of the file has it will appear in the media library once uploaded</li>
<li><em>shared</em> : Wether the file should be shared. If false the file will only be accessible to the user making the upload call (ie, the one authenticated by the token used in the call).</li>
<li><em>success</em>: Leave it to success</li>
<li><em>parentPath</em>: The path of where the media will be uploaded in the media library. If you want to upload in a specific folder, add <code>/resource=&lt;folder_id&gt;</code> at the end of path. See <a href="#Media-path">media path</a> for more infos</li>
</ul>
<p>This will give you an <strong>uploadUrl</strong> to use next</p>
</li>
<li>
<p><strong>Uploading the media</strong> </p>
<p>Now that you have an <strong>uploadUrl</strong> you will use it to send you file in a POST request (Make sure that you include you bearer token in the Authorization headers). This request in a regular multipart upload, </p>
<div class="highlight"><pre><span></span><code><span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">upload_url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">{</span><span class="s2">"upload-file"</span><span class="p">:</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">mime_type</span><span class="p">)}</span>
    <span class="p">)</span>
</code></pre></div>
<p>If all goes well you should have successfully uploaded you file to the media library</p>
</li>
</ol>
<h2 id="media-path">Media path<a class="headerlink" href="#media-path" title="Permanent link">¤</a></h2>
<p>In the LumApps library media are saved and retrieved via their path. </p>
<p>This path identifies where the media is situated either in the LumApps library itself, or in a gdrive or microsoft drive.</p>
<p>This path is of the form <code>provider=&lt;provider&gt;/site=&lt;site_id&gt;/resource=&lt;resource_id&gt;</code> and is called <code>docPath</code> or <code>parentPath</code> depending on the situation.</p>
<ul>
<li>The provider can be <strong>local</strong> (lumapps media library), <strong>drive</strong> (google drive).</li>
<li>The <code>site_id</code> is the id of the LumApps site the media is on.</li>
<li>The <code>resource_id</code> is the id of the media.</li>
</ul>
<p>The path is named <code>docPath</code> when you for instance retrieve the media and it identifies the media and is named <code>parentPath</code> when for instance you ask for an upload url and it identified where to upload. </p>
<h2 id="blob-key">Blob key<a class="headerlink" href="#blob-key" title="Permanent link">¤</a></h2>
<h3 id="upload-an-image-and-obtain-the-blob-key">Upload an image and obtain the blob key<a class="headerlink" href="#upload-an-image-and-obtain-the-blob-key" title="Permanent link">¤</a></h3>
<p>First <a href="#Uploading-a-media">upload your file</a>
Once uploaded the api return the uploaded media of the form</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"uid"</span><span class="p">:</span> <span class="s2">"5278825007677440"</span><span class="p">,</span> 
    <span class="nt">"isFolder"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
    <span class="nt">"customContentTypeKey"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> 
    <span class="nt">"updatedAt"</span><span class="p">:</span> <span class="s2">"2020-06-25T08:31:50.737799"</span><span class="p">,</span> 
    <span class="nt">"isStarred"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> 
    <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"5278825007677440"</span><span class="p">,</span> 
    <span class="nt">"createdAt"</span><span class="p">:</span> <span class="s2">"2020-06-25T08:31:50.751663"</span><span class="p">,</span> 
    <span class="nt">"content"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"lang"</span><span class="p">:</span> <span class="s2">"fr"</span><span class="p">,</span> 
            <span class="nt">"mimeType"</span><span class="p">:</span> <span class="s2">"image/png"</span><span class="p">,</span> 
            <span class="nt">"uuid"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span> 
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://sites.lumapps.com/serve/AMIfv95xFdNZT4x8ZCwYxVa4Ekr3hPU0ZRXJ_5na3mMJ_IwkfRW0-Vu-jY8DgPncGSq2UcAH-O_BnktwDOduHBccB8IgOCUQkoFv3WIzMH9FEOQVaX5uj7SA0BsdjPFdnqYKcOMRz4KPyBUPq66pXc3OpX3rycTxwQ/"</span><span class="p">,</span> 
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"image"</span><span class="p">,</span> 
            <span class="nt">"size"</span><span class="p">:</span> <span class="mi">46667</span><span class="p">,</span> 
            <span class="nt">"servingUrl"</span><span class="p">:</span> <span class="s2">"https://sites.lumapps.com/serve/AMIfv95xFdNZT4x8ZCwYxVa4Ekr3hPU0ZRXJ_5na3mMJ_IwkfRW0-Vu-jY8DgPncGSq2UcAH-O_BnktwDOduHBccB8IgOCUQkoFv3WIzMH9FEOQVaX5uj7SA0BsdjPFdnqYKcOMRz4KPyBUPq66pXc3OpX3rycTxwQ/"</span><span class="p">,</span> 
            <span class="nt">"value"</span><span class="p">:</span> <span class="s2">"AMIfv95xFdNZT4x8ZCwYxVa4Ekr3hPU0ZRXJ_5na3mMJ_IwkfRW0-Vu-jY8DgPncGSq2UcAH-O_BnktwDOduHBccB8IgOCUQkoFv3WIzMH9FEOQVaX5uj7SA0BsdjPFdnqYKcOMRz4KPyBUPq66pXc3OpX3rycTxwQ"</span><span class="p">,</span> 
            <span class="nt">"height"</span><span class="p">:</span> <span class="mi">717</span><span class="p">,</span> 
            <span class="err">....</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>The blob key is the <code>value</code> property in content</p>
<h3 id="obtain-the-blob-key-of-an-existing-media">Obtain the blob key of an existing media<a class="headerlink" href="#obtain-the-blob-key-of-an-existing-media" title="Permanent link">¤</a></h3>
<p>To obtain an existing blob key you have 2 main solutions</p>
<ol>
<li>
<p>Get the media (<code>document/get</code> or <code>document/list</code>) via API's and extract the key. In that case the key should be in <code>content -&gt; value</code></p>
</li>
<li>
<p>Copy/paste it from the LumApps admin. </p>
<p>For that go to the media library =&gt; find your media =&gt; click on the three dots =&gt; Obtain a link</p>
<p>This should give you a link the image, the blob key is containned in that link, between two <code>/</code> and after <code>server/</code></p>
<p>(eg, https://sites.lumapps.com/serve/<strong>AMIfv96jY01ZxeT4S-Yanb7h5SigIG-ZIVcYK1Th95Z2gOkJet6Trdl2hntG8C_</strong>
<strong>x17K0wqFms2cLOCIYPSreUsDsTQPyjVVZGh-IOJxaxLmmz6IxnWw1W0HapKyrwAfJsmNQsLwg6wNnbOrLZdeJdsMgGt_GYiDSb0pr</strong>
<strong>uLlkBn5toPLNK1Cd5gykYLu4UBEdgsvyksHOcwYxf6rUwSJGGD3vkL_C0tz_3If5vIPwo42nEAvIwU2Vx7WeI__cK9Tq2CooTSTn</strong>
<strong>L37iMKBsPxuGNXYLVLEApbHGJBNtoKiT_tswmKsL8Ub3_TBrtSZIOhnjajucQCZDWDK0Gsx4R6K7zT7NcQtwA</strong>/tricot2.jpg)</p>
</li>
</ol>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../groups/" rel="prev" title="Groups">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Groups
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../metadata/" rel="next" title="Metadata">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Metadata
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.92ffa368.min.js"></script>
<script src="../../assets/javascripts/bundle.5123e3d4.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>